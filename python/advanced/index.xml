<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>9. 工程化 on Python 3</title><link>https://typonotes.com/books/python/advanced/</link><description>Recent content in 9. 工程化 on Python 3</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://typonotes.com/books/python/advanced/index.xml" rel="self" type="application/rss+xml"/><item><title>1. pytest</title><link>https://typonotes.com/books/python/advanced/pytest/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://typonotes.com/books/python/advanced/pytest/</guid><description>pytest https://docs.pytest.org/en/stable/
安装 Python 和 Python-Debugger 之后， 可以在 VSCode 使用 pytest 进行单元测试
1. 启用 pytest 在项目 .vscode/settings.json 中添加配置启用 pytest 测试。
{ &amp;#34;python.testing.pytestArgs&amp;#34;: [ &amp;#34;.&amp;#34; ], &amp;#34;python.testing.unittestEnabled&amp;#34;: false, // 关闭 unittest &amp;#34;python.testing.pytestEnabled&amp;#34;: true, // 启用 pytest } 2. 创建 test 文件 pytest 自动检查并 并发 运行所有测试用例。
测试文件的编程规则与基本文件一致。 但需要遵循以下命名规则
测试文件命名规则为 test_{xxx}.py 测试函数命名规则为 test_{func} 测试函数中使用 assert 推断结果。 更多测试规则参考 pytest 官方文档: https://docs.</description></item><item><title>2. 日志库 loguru</title><link>https://typonotes.com/books/python/advanced/loguru/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://typonotes.com/books/python/advanced/loguru/</guid><description>loguru 是一款常用的 python 日志库。
https://loguru.readthedocs.io/en/stable/overview.html
注意: loguru 没有 fatal， 而是 critical
安装
pip install loguru 基础使用 from loguru import logging as log ## 设置格式 logger.add(&amp;#34;file.log&amp;#34;, format=&amp;#34;{time}{level}{message}&amp;#34;, level=&amp;#34;INFO&amp;#34;) ## 设置 level logger.level(&amp;#34;ERROR&amp;#34;) # 注意， 不支持小写 logger.info(&amp;#34;Hello, World!&amp;#34;) logger.critical(&amp;#34;This is a critical message!&amp;#34;) 装饰器用法 @logger.catch def test_logger(x: int): log.info(&amp;#34;This is a test logger function!&amp;#34;) return 10 / x 绑定额外参数 #### Structured logging as needed logger.</description></item><item><title>httpx 客户端</title><link>https://typonotes.com/books/python/advanced/httpx/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://typonotes.com/books/python/advanced/httpx/</guid><description>https://www.python-httpx.org/
pip3 install httpx pip3 install &amp;#34;httpx[http2]&amp;#34; # 需要使用 引号 ， 否则提示找不到 # zsh: no matches found: httpx[http2] ??? https://tangxin.github.io/moviedux/movies.json
使用 with 创建 http client # myhttpx.py MOVIES = &amp;#34;https://tangxin.github.io/moviedux/movies.json&amp;#34; with httpx.Client() as client: # with 自动关闭 r = client.get(MOVIES) print(r.status_code) movies = r.json() for movie in movies: print(movie[&amp;#34;title&amp;#34;]) 使用 try&amp;hellip;finally 注意: 使用 try..except..finally 的时候， 创建 client 的语句需要写在外面。
# myhttpx.py c2 = httpx.Client() # 创建客户端 try: r2 = c2.</description></item></channel></rss>